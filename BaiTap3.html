<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BaiTap3</title>
    <!--EchoEcho-->
    <style type="text/css">
        #dropdown {
        	width: 200px
        }
        #dropdown li{
        	list-style:none;
          	line-height: 30px;
          	background: blue;
          	margin: 2px;
        }
        
        #dropdown li a{
          	margin-left: 10px;
        	color: #FFF;
          	text-decoration: none;
        }
        
        #dropdown ul{
          	display:none;
        	padding: 0px;
          	background: pink
        }
        
        #dropdown ul li{
        	background-color: pink
        }
        
    </style>
</head>
<body>
    <ul id="dropdown">
        <li><a href="#">Trang chủ</a></li>
        <li>
            <a href="#">Sản phẩm</a>
          	<ul>
                <li><a href="#">Gạch cao cấp</a></li>
                <li><a href="#">Gạch thủ công</a></li>
                <li><a href="#">Gạch hoa văn</a></li>
            </ul>
        </li>
        <li>
            <a href="#">Tin tức</a>
            <ul>
                <li><a href="#">Tin công nghệ</a></li>
                <li><a href="#">Tin trong nước</a></li>
                <li><a href="#">Tin thời sự</a></li>
            </ul>
        </li>
        <li>
            <a href="#">Dịch vụ</a>
            <ul>
                <li><a href="#">Thiết kế web</a></li>
                <li><a href="#">Quảng cáo web</a></li>
                <li><a href="#">Thiết kế đồ họa</a></li>
            </ul>
        </li>    
    </ul>
    <Script>
        document.addEventListener("DOMContentLoaded", function () {
            // Lấy tất cả các <li> có chứa menu con
            const menuCha = document.querySelectorAll("#dropdown > li");
            menuCha.forEach(function (item) {
            // Tìm thẻ <a> bên trong
                const link = item.querySelector("a");
                // Tìm submenu <ul> bên trong
                const submenu = item.querySelector("ul");
                // Nếu có submenu thì mới xử lý
                if (submenu) {
                    // Ban đầu ẩn submenu
                    submenu.style.display = "none";
                    // Khi click vào thẻ <a> của menu cha
                    link.addEventListener("click", function (e) {
                        e.preventDefault(); // Ngăn không cho nhảy trang
                        // Kiểm tra trạng thái hiện tại của menu con
                        if (submenu.style.display === "block") {
                            submenu.style.display = "none";  // Đóng lại
                        } else {
                            // Đóng tất cả các menu con khác trước khi mở cái này
                            document.querySelectorAll("#dropdown ul").forEach(function (ul) {
                                ul.style.display = "none";
                            });
                            // Mở submenu hiện tại
                            submenu.style.display = "block";
                        }
                    });
                }
            });
            // Click ra ngoài sẽ đóng tất cả menu con
            document.addEventListener("click", function (e) {
                if (!e.target.closest("#dropdown")) {
                    document.querySelectorAll("#dropdown ul").forEach(function (ul) {
                        ul.style.display = "none";
                    });
                }
            });
        });
    </Script>
</body>
</html>